sap.ui.define(["sap/m/MessageToast","sap/ui/webc/main/TreeItem"],function(e,t){"use strict";var o=this;var a;var n;var r;var i;var l;return{onPress:function(t){e.show("Custom handler invoked.")},onAfterItemAdded:function(e){debugger;var o=e.oSource.getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().oContainer.getParent().getParent().getParent().getManifestObject()._oBaseUri._string;var a=e.getParameter("item");var l=e.getParameter("item").getFileName();var s=e.getParameter("item").getFileObject().type;if(!n){n=true;var d=new sap.m.Dialog({contentWidth:"40%",endButton:new sap.m.Button({text:"Cancel",press:function(e){debugger;d.close();sap.ui.getCore().byId("vobscreen4::VOB_Screen4ObjectPage--fe::CustomSubSection::Attachments--11").mAggregations.items[1].destroyIncompleteItems();d.destroyContent();n=false}}),beginButton:new sap.m.Button({text:"Ok",press:function(e){debugger;i=e.getSource().getParent().mAggregations.content[1].mAggregations.items[0].mProperties.footerText;if(i==="Click on the folder to select path"){var t=sap.m.MessageBox.warning("No folder selected.",{title:"Warning",onClose:function(){t.close();debugger}})}else{debugger;var r=function(e){debugger;var t={mediaType:e.getMediaType(),fileName:e.getFileName(),Folder:i};var a={url:o+"odata/v4/catalog/Files",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(a).done((t,o,a)=>{e(t.ID)}).fail(e=>{t(e)})})};r(a).then(e=>{debugger;var t=o+`odata/v4/catalog/Files(${e})/content`;a.setUploadUrl(t);d.close();d.destroyContent();n=false;var r=sap.ui.getCore().byId("reportentity::MasterDataObjectPage--fe::CustomSubSection::AddKeyAttachments--uploadSet");r.setHttpRequestMethod("PUT");r.uploadItem(a)}).catch(e=>{console.log(e)});debugger}}})});var c=new sap.m.VBox({width:"100%",height:"100%"});c.addStyleClass("vboxclass");var f=new sap.m.HBox;var p=new sap.ui.core.Icon({src:r,size:"2rem",marginRight:"0.5rem"});debugger;var g=new sap.m.Text({text:l});p.addStyleClass("icon");g.addStyleClass("name");c.addItem(f);var u=new sap.m.VBox("vb1");u.addItem(new sap.ui.webc.main.Tree("treee",{itemClick:async function(e){let t=e.mParameters.item;let o="";let a=t;while(a&&a.getId()!=="treee"){let e=a.getText();o=`${e} / ${o}`;a=a.getParent()}sap.ui.getCore().byId("treee").setFooterText(o)},footerText:"Click on the folder to select path",headerText:"Folders",items:[new t("folder_1",{icon:"sap-icon://folder-full",text:"Part No",items:[new t("folder_2",{icon:"sap-icon://folder-full",text:"Vendor 1",items:[new t("folder_2.1",{icon:"sap-icon://folder-full",text:"NDA"}),new t("folder_2.2",{icon:"sap-icon://folder-full",text:"RFQ"}),new t("folder_2.3",{icon:"sap-icon://folder-full",text:"Quote and Quote Synthesis"}),new t("folder_2.4",{icon:"sap-icon://folder-full",text:"Quote Backup"}),new t("folder_2.5",{icon:"sap-icon://folder-full",text:"Supplier Details"}),new t("folder_2.6",{icon:"sap-icon://folder-full",text:"Offer price Approval from Bazzar Sales Team"}),new t("folder_2.7",{icon:"sap-icon://folder-full",text:"SBU VOB FORUM",items:[new t("folder_2.7.1",{icon:"sap-icon://folder-2",text:"PPT"}),new t("folder_9.2",{icon:"sap-icon://folder-2",text:"Backup data"}),new t("folder_9.3",{icon:"sap-icon://folder-2",text:"Approval"})]}),new t("folder_2.8",{icon:"sap-icon://folder-full",text:"Vendor Code Creation"}),new t("folder_2.9",{icon:"sap-icon://folder-full",text:"NDA sign-off with Packagign Supplier"}),new t("folder_3.0",{icon:"sap-icon://folder-full",text:"Packaging Sign-offr"}),new t("folder_3.1",{icon:"sap-icon://folder-full",text:"Proposed and Approved Drawings"}),new t("folder_3.2",{icon:"sap-icon://folder-full",text:"Validation Reports"}),new t("folder_3.3",{icon:"sap-icon://folder-full",text:"Final Drawing Approval for Production"}),new t("folder_3.4",{icon:"sap-icon://folder-full",text:"VPPAP"})]})]})]}));d.addContent(c);d.addContent(u);d.open()}},onUploadCompleted:function(e){debugger;var t=this.byId("uploadSet");t.removeAllIncompleteItems();t.getBinding("items").refresh()},formatThumbnailUrl:function(e){debugger;var t;switch(e){case"image/png":t="sap-icon://card";break;case"text/plain":t="sap-icon://document-text";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="sap-icon://excel-attachment";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="sap-icon://doc-attachment";break;case"application/pdf":t="sap-icon://pdf-attachment";break;default:t="sap-icon://attachment"}return t}}});
//# sourceMappingURL=AddKeyAttachments.js.map